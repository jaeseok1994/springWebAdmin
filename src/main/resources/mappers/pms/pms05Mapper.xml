<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "mybatis-3-mapper.dtd">

<mapper namespace="proj.pms.pms05">

	<select id="selectList" parameterType="map" resultType="cMap">
		<include refid="paging.head" /> <!-- 페이징 처리시 필수 -->

		select
		a.rkis_no as rkisNo,
		a.acdn_title as acdnTitle,
		a.scn,
		decode(a.scn,'1',a.rsk_id,'2',a.isu_id,'') as rskIsuId,
		a.proj_no as projNo,
		b.proj_nm as projNm,
		a.prry_rnkg as prryRnkg,
		a.area,
		a.dcrm_lev as dcrmLev,
		a.pgs_st as pgsSt,
		a.cre_user_id as creUserId,
		a.cre_dtm as creDtm
		from tarkis a, taprjm b
		where a.proj_no = b.proj_no
<!--		<if test="map.user_name != '' and map.user_name != null">-->
<!--			and upper(user_name) like upper('%' || #{map.user_name} || '%')-->
<!--		</if>-->
<!--		<if test="map.rbof_id != '' and map.rbof_id != null">-->
<!--			and rbof_id = #{map.rbof_id}-->
<!--		</if>-->
		order by a.rkis_no, a.acdn_title

		<include refid="paging.bottom" /> <!-- 페이징 처리시 필수 -->
	</select>

	<delete id="deleteList" parameterType="map">
		delete from tarkis
		where rkis_no = #{rkisNo}
	</delete>

</mapper>